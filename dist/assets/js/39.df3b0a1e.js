(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{564:function(s,t,a){"use strict";a.r(t);var n=a(6),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"_1-简述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-简述"}},[s._v("#")]),s._v(" 1.简述")]),s._v(" "),a("p",[s._v("在宝塔面板下载frp插件做web内网穿透，服务端和客户端需要版本一致，以下安装版本为0.33.0")]),s._v(" "),a("h2",{attrs:{id:"_2-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装"}},[s._v("#")]),s._v(" 2.安装")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://19-blog.oss-cn-shenzhen.aliyuncs.com/f0Yl6Y7fYF.png",alt:""}})]),s._v(" "),a("p",[s._v("点击截图1软件商店，截图2搜索，选择截图3服务端进行配置，可以需要登录才能安装")]),s._v(" "),a("h2",{attrs:{id:"_3-服务端配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-服务端配置"}},[s._v("#")]),s._v(" 3.服务端配置")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://19-blog.oss-cn-shenzhen.aliyuncs.com/2CmDYrr8Cm.png",alt:""}})]),s._v(" "),a("p",[s._v("截图1需要设置和frpc.ini客户端配置文件中server_port的值一致，截图2密钥也要和frpc.ini中的token一致，最后点击保存配置")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://19-blog.oss-cn-shenzhen.aliyuncs.com/image-20200702144713181.png",alt:""}})]),s._v(" "),a("p",[s._v("截图1需要设置http端口不然无法在浏览器中正常访问，"),a("font",{attrs:{color:"red"}},[s._v("最后记得启动frps")])],1),s._v(" "),a("h2",{attrs:{id:"_4-客户端配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-客户端配置"}},[s._v("#")]),s._v(" 4.客户端配置")]),s._v(" "),a("h3",{attrs:{id:"_4-1-http配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-http配置"}},[s._v("#")]),s._v(" 4.1 http配置")]),s._v(" "),a("p",[s._v("在https://github.com/fatedier/frp/releases下载对应系统的压缩包，然后打开frpc.ini文件进行配置")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://19-blog.oss-cn-shenzhen.aliyuncs.com/image-20200702145702417.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://19-blog.oss-cn-shenzhen.aliyuncs.com/image-20200702145910158.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://19-blog.oss-cn-shenzhen.aliyuncs.com/image-20200702150457574.png",alt:""}})]),s._v(" "),a("p",[s._v("截图1配置服务端参数，server_addr = 服务器ip，server_port 和tcp端口一致，token = 之前设置的验证密钥")]),s._v(" "),a("p",[s._v("截图2配置客户端参数，local_port 要穿透的端口号，custom_domains= 服务端域名")]),s._v(" "),a("p",[s._v("在终端输入下面的命令行启动，如果跟下面截图中差不多就成功了")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("./frpc -c ./frpc.ini\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://19-blog.oss-cn-shenzhen.aliyuncs.com/image-20200702151827377.png",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"_4-2-ssh配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-ssh配置"}},[s._v("#")]),s._v(" 4.2 SSH配置")]),s._v(" "),a("p",[s._v("remote_port 你连接的端口号")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://19-blog.oss-cn-shenzhen.aliyuncs.com/20200902135149.png",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"_5-frp开机自启"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-frp开机自启"}},[s._v("#")]),s._v(" 5.frp开机自启")]),s._v(" "),a("h3",{attrs:{id:"_5-1-使用systemctl来控制启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-使用systemctl来控制启动"}},[s._v("#")]),s._v(" 5.1 使用systemctl来控制启动")]),s._v(" "),a("p",[s._v("执行"),a("code",[s._v("vim /lib/systemd/system/frpc.service")]),s._v("，frps和frpc一样，把frpc改成frps就行了")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Description")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("fraps "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("After")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("network.target syslog.target\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Wants")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("network.target\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("simple\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动服务的命令（此处写你的frps的实际安装目录）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/frp/frpc -c /usr/frp/frpc.ini\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WantedBy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("multi-user.target\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"_5-2-开启服务命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-开启服务命令"}},[s._v("#")]),s._v(" 5.2 开启服务命令")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新服务文件")]),s._v("\nsystemctl daemon-reload\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启")]),s._v("\nsystemctl start frps\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭")]),s._v("\nsystemctl stop frps\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启")]),s._v("\nsystemctl restart frps\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看状态")]),s._v("\nsystemctl status frps\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置开机启动")]),s._v("\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" frps\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置开机不启动")]),s._v("\nsystemctl disable frps\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[a("font",{attrs:{color:"red"}},[s._v("注意：")])],1),s._v(" "),a("p",[a("font",{attrs:{color:"red"}},[s._v("不能代理80端口，其它端口可以")])],1)])}),[],!1,null,null,null);t.default=e.exports}}]);